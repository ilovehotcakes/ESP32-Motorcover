<!DOCTYPE html>
<html>
<head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <link rel="shortcut icon" type="image/x-icon" href="./img/favicon_60x60.png" />
    <link rel="apple-touch-icon" sizes="180x180" href="./img/touch_icon_180x180.png" />
    <title>ESP32 Yun</title>
    <link rel="stylesheet" type="text/css" href="./index.css">
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="./index.js"></script>
</head>
<body>
    <div class="page">
        <div id="home_page" class="glass container hide-hlp">
            <div class="title">
                <h3 class="name-txt white-color">Living Room Window</h3>
                <h3 class="serial-txt">yun-e5c258</h3>
                <div class="dropdown">
                    <input type="checkbox" id="dropdown_checkbox" class="" onclick="dropdown()" unchecked>
                    <label for="dropdown_checkbox" class="dropdown-cbx"></label>
                </div>
            </div>

            <div id="controls" class="controls">
                <div class="slider">
                    <input type="range" id="percent_slider" class="glass" onchange="motorMove(this)" value="%SLIDER%" min="0" max="100" step="1">
                    <span class="tick one-tck"></span>
                    <span class="tick two-tck"></span>
                    <span class="tick three-tck"></span>
                    <span class="tick four-tck"></span>
                    <span class="tick five-tck"></span>
                    <span class="marker zero-mkr">0</span>
                    <span class="marker hundred-mkr">100</span>
                </div>

                <div class="open-stop-close">
                    <button type="button" class="open-btn side-hlp button1" value="0" onclick="motorMove(this)">Open</button>
                    <button type="button" class="stop-btn button1" onclick="motorAction('stop')">Stop</button>
                    <button type="button" class="close-btn side-hlp button1" value="100" onclick="motorMove(this)">Close</button>
                </div>
            </div>

            <div id="advanced_controls" class="controls hide-hlp">
                <div class="forward-backward">
                    <div class="desktop-only">
                        <button type="button" class="backward-btn button1" onmousedown="motorAction('backward')" onmouseup="motorAction('stop')">Backward</button>
                        <button type="button" class="forward-btn button1" onmousedown="motorAction('forward')" onmouseup="motorAction('stop')">Forward</button>
                    </div>
                    <div class="mobile-only">
                        <button type="button" class="backward-btn button1" ontouchstart="motorAction('backward')" ontouchend="motorAction('stop')">Backward</button>
                        <button type="button" class="forward-btn button1" ontouchstart="motorAction('forward')" ontouchend="motorAction('stop')">Forward</button>
                    </div>
                </div>

                <div class="horizontal-separator"></div>

                <div class="min-zero-max">
                    <button type="button" class="set-min-btn button2" onclick="motorAction('set-min')">Set Min</button>
                    <span class="left-spr vertical-separator"></span>
                    <button type="button" class="zeroing-btn button2" onclick="motorAction('zero')">Zero</button>
                    <span class="right-spr vertical-separator"></span>
                    <button type="button" class="set-max-btn button2" onclick="motorAction('set-max')">Set Max</button>
                </div>
            </div>
        </div>



        <!-- To display and change some motor settings -->
        <div class="unified-settings glass container">
            <div class="zero-pos four-settings">
                <h3 class="setting-name-txt">Sync Settings</h3>
                <label class="toggle">
                    <input id="sync_settings" type="checkbox" onclick="syncSettings()" checked>
                    <span class="toggle-cbx">
                </label>
            </div>

            <div class="one-forth-pos horizontal-separator"></div>

            <div class="one-forth-pos four-settings pointer-hlp" onclick="openSettingDialog('Current', 1)">
                <h3 id="current_setting_name" class="setting-name-txt">Current (mA)</h3>
                <h4 id="current_open_setting" class="opening-setting-txt">200</h4>
                <h4 id="current_close_setting" class="closing-setting-txt">75</h4>
            </div>

            <div class="one-half-pos horizontal-separator"></div>

            <div class="one-half-pos four-settings pointer-hlp" onclick="openSettingDialog('Velocity', 0.1)">
                <h3 id="velocity_setting_name" class="setting-name-txt">Velocity (Hz)</h3>
                <h4 id="velocity_open_setting" class="opening-setting-txt">3.0</h4>
                <h4 id="velocity_close_setting" class="closing-setting-txt">3.0</h4>
            </div>

            <div class="three-forths-pos horizontal-separator"></div>

            <div class="three-forths-pos four-settings pointer-hlp" onclick="openSettingDialog('Acceleration', 0.1)">
                <h3 id="acceleration_setting_name" class="setting-name-txt">Acceleration (Hz/s)</h3>
                <h4 id="acceleration_open_setting" class="opening-setting-txt">0.5</h4>
                <h4 id="acceleration_close_setting" class="closing-setting-txt">0.5</h4>
            </div>
        </div>

        <div class="motor-settings glass container">
            <div class="zero-pos three-settings">
                <h3 class="setting-name-txt">Direction</h3>
                <label class="toggle">
                    <input type="checkbox" onclick="print(this)">
                    <span class="toggle-cbx">
                </label>
            </div>

            <div class="one-third-pos horizontal-separator"></div>

            <div class="one-third-pos three-settings">
                <h3 class="setting-name-txt">Full Steps (per turn)</h3>
                <h4 class="closing-setting-txt">200</h4>
            </div>

            <div class="two-thirds-pos horizontal-separator"></div>

            <div class="two-thirds-pos three-settings">
                <h3 class="setting-name-txt">Microsteps (per step)</h3>
                <h4 class="closing-setting-txt">2</h4>
            </div>
        </div>

        <div class="fastmode advanced-settings glass container">
            <div class="zero-pos two-settings">
                <h3 class="setting-name-txt">Fastmode</h3>
                <label class="toggle">
                    <input type="checkbox" onclick="print(this)">
                    <span class="toggle-cbx">
                </label>
            </div>

            <div class="one-half-pos horizontal-separator"></div>

            <div class="one-half-pos two-settings">
                <h3 class="setting-name-txt">Threshold</h3>
                <h4 class="closing-setting-txt">200</h4>
            </div>
        </div>

        <div class="stallguard advanced-settings glass container">
            <div class="zero-pos two-settings">
                <h3 class="setting-name-txt">Stallguard</h3>
                <label class="toggle">
                    <input type="checkbox" onclick="stallguard(this)">
                    <span class="toggle-cbx">
                </label>
            </div>

            <div class="one-half-pos horizontal-separator"></div>

            <div class="one-half-pos two-settings">
                <h3 class="setting-name-txt">Threshold</h3>
                <h4 class="closing-setting-txt">10</h4>
            </div>
        </div>



        <!-- Dialog box for submitting new values for motor settings -->
        <form id="setting_dialog" class="setting-dlg glass container" method="GET">
            <div class="dialog-prompt">
                <h5 id="dialog_setting_prompt">SETTINGPROMPT</h5>
            </div>

            <div class="dialog-title">
                <button type="reset" class="form-btn" onclick="cancel()">Cancel</button>
                <h3 id="dialog_setting_name" class="dialog-title-txt">SETTINGNAME</h3>
                <button type="submit" class="form-btn"onclick="print(this)">Submit</button>
            </div>

            <div class="form-input advanced-settings glass container">
                <div class="zero-pos two-settings">
                    <h4 class="white-color form-input-txt">Opening</h4>
                    <input type="number" id="opening_setting_input">
                </div>

                <div class="one-half-pos horizontal-separator"></div>

                <div class="one-half-pos two-settings">
                    <h4 class="white-color form-input-txt">Closing</h4>
                    <input type="number" id="closing_setting_input">
                </div>
            </div>

            <div class="dialog-explanation">
                <h5 class="grey-color">Lorem ipsum dolor sit amet consectetur adipisicing elit. Illo, debitis dolore cumque laboriosam ad nesciunt autem obcaecati, nihil est error, expedita libero totam accusamus quo rem porro enim consequuntur facere.</h5>
            </div>
        </form>

        <!-- <div id="wifi_page" class="wifi-page-initial glass container2">
        </div>

        <div class="navbar glass container">
            <input type="radio" id="wireless_radio" name="navbar" onclick="gotoWifiPage()">
            <label for="wireless_radio" class="wireless-rad radio"></label>
            <input type="radio" id="home_radio" name="navbar" onclick="gotoHomePage()" checked>
            <label for="home_radio" class="home-rad radio"></label>
            <input type="radio" id="motor_radio" name="navbar" onclick="gotoMotorPage(this)">
            <label for="motor_radio" class="motor-rad radio"></label>
        </div> -->
    </div>
</body>
</html>